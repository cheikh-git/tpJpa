/*C2*/SET SCHEMA PUBLIC
drop table Home if exists
drop table Person if exists
drop table Person_Home if exists
create table Home (id bigint generated by default as identity (start with 1), adresse varchar(255), adresse_ip double not null, superficie double not null, person_id bigint, primary key (id))
create table Person (id bigint generated by default as identity (start with 1), firstname varchar(255), genre varchar(255), mail varchar(255), name varchar(255), profile_facebook varchar(255), primary key (id))
create table Person_Home (Person_id bigint not null, homes_id bigint not null, unique (homes_id))
alter table Home add constraint FK2268FF996A0DE9 foreign key (person_id) references Person
alter table Person_Home add constraint FK49F7FB89996A0DE9 foreign key (Person_id) references Person
alter table Person_Home add constraint FK49F7FB893B57BAB4 foreign key (homes_id) references Home
INSERT INTO PERSON VALUES(1,'cheikh','M','cheikh@gmail.com','thiam','elkheucha')
INSERT INTO HOME VALUES(1,'rennes',192.0E0,1200.0E0,NULL)
COMMIT
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
alter table Home drop constraint FK2268FF996A0DE9
alter table Person_Home drop constraint FK49F7FB89996A0DE9
alter table Person_Home drop constraint FK49F7FB893B57BAB4
drop table Home if exists
drop table Person if exists
drop table Person_Home if exists
create table Home (id bigint generated by default as identity (start with 1), adresse varchar(255), adresse_ip double not null, superficie double not null, person_id bigint, primary key (id))
create table Person (id bigint generated by default as identity (start with 1), firstname varchar(255), genre varchar(255), mail varchar(255), name varchar(255), profile_facebook varchar(255), primary key (id))
create table Person_Home (Person_id bigint not null, homes_id bigint not null, unique (homes_id))
alter table Home add constraint FK2268FF996A0DE9 foreign key (person_id) references Person
alter table Person_Home add constraint FK49F7FB89996A0DE9 foreign key (Person_id) references Person
alter table Person_Home add constraint FK49F7FB893B57BAB4 foreign key (homes_id) references Home
INSERT INTO PERSON VALUES(1,'cheikh','M','cheikh@gmail.com','thiam','elkheucha')
INSERT INTO HOME VALUES(1,'rennes',192.0E0,1200.0E0,NULL)
COMMIT
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
alter table Home drop constraint FK2268FF996A0DE9
alter table Person_Home drop constraint FK49F7FB89996A0DE9
alter table Person_Home drop constraint FK49F7FB893B57BAB4
drop table Home if exists
drop table Person if exists
drop table Person_Home if exists
create table Home (id bigint generated by default as identity (start with 1), adresse varchar(255), adresse_ip double not null, superficie double not null, person_id bigint, primary key (id))
create table Person (id bigint generated by default as identity (start with 1), firstname varchar(255), genre varchar(255), mail varchar(255), name varchar(255), profile_facebook varchar(255), primary key (id))
create table Person_Home (Person_id bigint not null, homes_id bigint not null, unique (homes_id))
alter table Home add constraint FK2268FF996A0DE9 foreign key (person_id) references Person
alter table Person_Home add constraint FK49F7FB89996A0DE9 foreign key (Person_id) references Person
alter table Person_Home add constraint FK49F7FB893B57BAB4 foreign key (homes_id) references Home
INSERT INTO PERSON VALUES(1,'cheikh','M','cheikh@gmail.com','thiam','elkheucha')
INSERT INTO HOME VALUES(1,'rennes',192.0E0,1200.0E0,1)
COMMIT
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
alter table Home drop constraint FK2268FF996A0DE9
alter table Person_Home drop constraint FK49F7FB89996A0DE9
alter table Person_Home drop constraint FK49F7FB893B57BAB4
drop table Home if exists
drop table Person if exists
drop table Person_Home if exists
create table Home (id bigint generated by default as identity (start with 1), adresse varchar(255), adresse_ip double not null, superficie double not null, person_id bigint, primary key (id))
create table Person (id bigint generated by default as identity (start with 1), firstname varchar(255), genre varchar(255), mail varchar(255), name varchar(255), profile_facebook varchar(255), primary key (id))
create table Person_Home (Person_id bigint not null, homes_id bigint not null, unique (homes_id))
alter table Home add constraint FK2268FF996A0DE9 foreign key (person_id) references Person
alter table Person_Home add constraint FK49F7FB89996A0DE9 foreign key (Person_id) references Person
alter table Person_Home add constraint FK49F7FB893B57BAB4 foreign key (homes_id) references Home
INSERT INTO PERSON VALUES(1,'cheikh','M','cheikh@gmail.com','thiam','elkheucha')
INSERT INTO PERSON VALUES(2,'xxxx','M','cheikh@gmail.com','xxxx','elkheucha')
INSERT INTO HOME VALUES(1,'rennes',192.0E0,1200.0E0,1)
INSERT INTO HOME VALUES(2,'redon',192.0E0,1200.0E0,2)
INSERT INTO HOME VALUES(3,'lemans',192.0E0,1200.0E0,2)
INSERT INTO PERSON_HOME VALUES(1,1)
INSERT INTO PERSON_HOME VALUES(2,2)
INSERT INTO PERSON_HOME VALUES(2,3)
COMMIT
DISCONNECT
