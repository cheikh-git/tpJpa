/*C6*/SET SCHEMA PUBLIC
alter table Home drop constraint FK2268FF996A0DE9
alter table Person_Home drop constraint FK49F7FB89996A0DE9
alter table Person_Home drop constraint FK49F7FB893B57BAB4
drop table Home if exists
drop table Person if exists
drop table Person_Home if exists
create table Home (id bigint generated by default as identity (start with 1), adresse varchar(255), adresse_ip double not null, superficie double not null, person_id bigint, primary key (id))
create table Person (id bigint generated by default as identity (start with 1), firstname varchar(255), genre varchar(255), mail varchar(255), name varchar(255), profile_facebook varchar(255), primary key (id))
create table Person_Home (Person_id bigint not null, homes_id bigint not null, unique (homes_id))
alter table Home add constraint FK2268FF996A0DE9 foreign key (person_id) references Person
alter table Person_Home add constraint FK49F7FB89996A0DE9 foreign key (Person_id) references Person
alter table Person_Home add constraint FK49F7FB893B57BAB4 foreign key (homes_id) references Home
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
alter table Home drop constraint FK2268FF996A0DE9
alter table Person_Home drop constraint FK49F7FB89996A0DE9
alter table Person_Home drop constraint FK49F7FB893B57BAB4
drop table Home if exists
drop table Person if exists
drop table Person_Home if exists
create table Home (id bigint generated by default as identity (start with 1), adresse varchar(255), adresse_ip double not null, superficie double not null, person_id bigint, primary key (id))
create table Person (id bigint generated by default as identity (start with 1), firstname varchar(255), genre varchar(255), mail varchar(255), name varchar(255), profile_facebook varchar(255), primary key (id))
create table Person_Home (Person_id bigint not null, homes_id bigint not null, unique (homes_id))
alter table Home add constraint FK2268FF996A0DE9 foreign key (person_id) references Person
alter table Person_Home add constraint FK49F7FB89996A0DE9 foreign key (Person_id) references Person
alter table Person_Home add constraint FK49F7FB893B57BAB4 foreign key (homes_id) references Home
INSERT INTO PERSON VALUES(1,'cheikh','M','cheikh@gmail.com','thiam','elkheucha')
INSERT INTO PERSON VALUES(2,'modou','M','modou@gmail.com','diop','modou')
INSERT INTO PERSON VALUES(3,'fatou','S','fatou@gmail.com','sow','fatou')
INSERT INTO PERSON VALUES(4,'sokhna','S','sokhna@gmail.com','thiam','sokhna')
INSERT INTO HOME VALUES(1,'rennes',192.0E0,1200.0E0,1)
INSERT INTO HOME VALUES(2,'redon',198.0E0,1700.0E0,2)
INSERT INTO HOME VALUES(3,'lemans',128.0E0,1900.0E0,2)
INSERT INTO HOME VALUES(4,'limoges',200.0E0,2100.0E0,3)
INSERT INTO HOME VALUES(5,'lyon',228.0E0,3900.0E0,3)
INSERT INTO HOME VALUES(6,'brest',115.0E0,1400.0E0,4)
INSERT INTO HOME VALUES(7,'paris',158.0E0,4900.0E0,4)
INSERT INTO PERSON_HOME VALUES(1,1)
INSERT INTO PERSON_HOME VALUES(2,2)
INSERT INTO PERSON_HOME VALUES(2,3)
INSERT INTO PERSON_HOME VALUES(3,4)
INSERT INTO PERSON_HOME VALUES(3,5)
INSERT INTO PERSON_HOME VALUES(4,6)
INSERT INTO PERSON_HOME VALUES(4,7)
COMMIT
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
