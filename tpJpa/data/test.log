/*C5*/SET SCHEMA PUBLIC
alter table Home drop constraint FK2268FF996A0DE9
alter table Person_Home drop constraint FK49F7FB89996A0DE9
alter table Person_Home drop constraint FK49F7FB893B57BAB4
drop table Home if exists
drop table Person if exists
drop table Person_Home if exists
create table Home (id bigint generated by default as identity (start with 1), adresse varchar(255), adresse_ip double not null, superficie double not null, person_id bigint, primary key (id))
create table Person (id bigint generated by default as identity (start with 1), firstname varchar(255), genre varchar(255), mail varchar(255), name varchar(255), profile_facebook varchar(255), primary key (id))
create table Person_Home (Person_id bigint not null, homes_id bigint not null, unique (homes_id))
alter table Home add constraint FK2268FF996A0DE9 foreign key (person_id) references Person
alter table Person_Home add constraint FK49F7FB89996A0DE9 foreign key (Person_id) references Person
alter table Person_Home add constraint FK49F7FB893B57BAB4 foreign key (homes_id) references Home
INSERT INTO PERSON VALUES(1,'cheikh','M','cheikh@gmail.com','thiam','elkheucha')
INSERT INTO PERSON VALUES(2,'modou','M','modou@gmail.com','diop','modou')
INSERT INTO PERSON VALUES(3,'fatou','S','fatou@gmail.com','sow','fatou')
INSERT INTO PERSON VALUES(4,'sokhna','S','sokhna@gmail.com','thiam','sokhna')
INSERT INTO HOME VALUES(1,'rennes',192.0E0,1200.0E0,1)
INSERT INTO HOME VALUES(2,'redon',198.0E0,1700.0E0,2)
INSERT INTO HOME VALUES(3,'lemans',128.0E0,1900.0E0,2)
INSERT INTO HOME VALUES(4,'limoges',200.0E0,2100.0E0,3)
INSERT INTO HOME VALUES(5,'lyon',228.0E0,3900.0E0,3)
INSERT INTO HOME VALUES(6,'brest',115.0E0,1400.0E0,4)
INSERT INTO HOME VALUES(7,'paris',158.0E0,4900.0E0,4)
INSERT INTO PERSON_HOME VALUES(1,1)
INSERT INTO PERSON_HOME VALUES(2,2)
INSERT INTO PERSON_HOME VALUES(2,3)
INSERT INTO PERSON_HOME VALUES(3,4)
INSERT INTO PERSON_HOME VALUES(3,5)
INSERT INTO PERSON_HOME VALUES(4,6)
INSERT INTO PERSON_HOME VALUES(4,7)
COMMIT
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
alter table Home drop constraint FK2268FF996A0DE9
alter table Home add constraint FK2268FF996A0DE9 foreign key (person_id) references Person
INSERT INTO PERSON VALUES(5,'cheikh','M','cheikh@gmail.com','thiam','elkheucha')
INSERT INTO HOME VALUES(8,'rennes',192.0E0,1200.0E0,5)
INSERT INTO PERSON VALUES(6,'modou','M','modou@gmail.com','diop','modou')
INSERT INTO HOME VALUES(9,'redon',198.0E0,1700.0E0,6)
INSERT INTO HOME VALUES(10,'lemans',128.0E0,1900.0E0,6)
INSERT INTO PERSON VALUES(7,'fatou','S','fatou@gmail.com','sow','fatou')
INSERT INTO HOME VALUES(11,'limoges',200.0E0,2100.0E0,7)
INSERT INTO HOME VALUES(12,'lyon',228.0E0,3900.0E0,7)
INSERT INTO PERSON VALUES(8,'sokhna','S','sokhna@gmail.com','thiam','sokhna')
INSERT INTO HOME VALUES(13,'brest',115.0E0,1400.0E0,8)
INSERT INTO HOME VALUES(14,'paris',158.0E0,4900.0E0,8)
COMMIT
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
alter table Home drop constraint FK2268FF996A0DE9
alter table Person_Home drop constraint FK49F7FB89996A0DE9
alter table Person_Home drop constraint FK49F7FB893B57BAB4
drop table Home if exists
drop table Person if exists
drop table Person_Home if exists
create table Home (id bigint generated by default as identity (start with 1), adresse varchar(255), adresse_ip double not null, superficie double not null, person_id bigint, primary key (id))
create table Person (id bigint generated by default as identity (start with 1), firstname varchar(255), genre varchar(255), mail varchar(255), name varchar(255), profile_facebook varchar(255), primary key (id))
create table Person_Home (Person_id bigint not null, homes_id bigint not null, unique (homes_id))
alter table Home add constraint FK2268FF996A0DE9 foreign key (person_id) references Person
alter table Person_Home add constraint FK49F7FB89996A0DE9 foreign key (Person_id) references Person
alter table Person_Home add constraint FK49F7FB893B57BAB4 foreign key (homes_id) references Home
INSERT INTO PERSON VALUES(1,'cheikh','M','cheikh@gmail.com','thiam','elkheucha')
INSERT INTO PERSON VALUES(2,'modou','M','modou@gmail.com','diop','modou')
INSERT INTO PERSON VALUES(3,'fatou','S','fatou@gmail.com','sow','fatou')
INSERT INTO PERSON VALUES(4,'sokhna','S','sokhna@gmail.com','thiam','sokhna')
INSERT INTO HOME VALUES(1,'rennes',192.0E0,1200.0E0,1)
INSERT INTO HOME VALUES(2,'redon',198.0E0,1700.0E0,2)
INSERT INTO HOME VALUES(3,'lemans',128.0E0,1900.0E0,2)
INSERT INTO HOME VALUES(4,'limoges',200.0E0,2100.0E0,3)
INSERT INTO HOME VALUES(5,'lyon',228.0E0,3900.0E0,3)
INSERT INTO HOME VALUES(6,'brest',115.0E0,1400.0E0,4)
INSERT INTO HOME VALUES(7,'paris',158.0E0,4900.0E0,4)
INSERT INTO PERSON_HOME VALUES(1,1)
INSERT INTO PERSON_HOME VALUES(2,2)
INSERT INTO PERSON_HOME VALUES(2,3)
INSERT INTO PERSON_HOME VALUES(3,4)
INSERT INTO PERSON_HOME VALUES(3,5)
INSERT INTO PERSON_HOME VALUES(4,6)
INSERT INTO PERSON_HOME VALUES(4,7)
COMMIT
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
alter table Home drop constraint FK2268FF996A0DE9
alter table Person_Home drop constraint FK49F7FB89996A0DE9
alter table Person_Home drop constraint FK49F7FB893B57BAB4
drop table ElectronicDevice if exists
drop table Home if exists
drop table Person if exists
drop table Person_ElectronicDevice if exists
drop table Person_Home if exists
create table ElectronicDevice (id bigint generated by default as identity (start with 1), capacite varchar(255), date_fabrication varchar(255), name varchar(255), person_id bigint, primary key (id))
create table Home (id bigint generated by default as identity (start with 1), adresse varchar(255), adresse_ip varchar(255), superficie double not null, person_id bigint, primary key (id))
create table Person (id bigint generated by default as identity (start with 1), firstname varchar(255), genre varchar(255), mail varchar(255), name varchar(255), profile_facebook varchar(255), primary key (id))
create table Person_ElectronicDevice (Person_id bigint not null, electronics_id bigint not null, unique (electronics_id))
create table Person_Home (Person_id bigint not null, homes_id bigint not null, unique (homes_id))
alter table ElectronicDevice add constraint FK3D85412996A0DE9 foreign key (person_id) references Person
alter table Home add constraint FK2268FF996A0DE9 foreign key (person_id) references Person
alter table Person_ElectronicDevice add constraint FK8284679C76D9FE64 foreign key (electronics_id) references ElectronicDevice
alter table Person_ElectronicDevice add constraint FK8284679C996A0DE9 foreign key (Person_id) references Person
alter table Person_Home add constraint FK49F7FB89996A0DE9 foreign key (Person_id) references Person
alter table Person_Home add constraint FK49F7FB893B57BAB4 foreign key (homes_id) references Home
INSERT INTO PERSON VALUES(1,'cheikh','M','cheikh@gmail.com','thiam','elkheucha')
INSERT INTO PERSON VALUES(2,'modou','M','modou@gmail.com','diop','modou')
INSERT INTO PERSON VALUES(3,'fatou','S','fatou@gmail.com','sow','fatou')
INSERT INTO PERSON VALUES(4,'sokhna','S','sokhna@gmail.com','thiam','sokhna')
INSERT INTO HOME VALUES(1,'rennes','192.12.6.1',1200.0E0,1)
INSERT INTO HOME VALUES(2,'redon','198.200.85.6',1700.0E0,2)
INSERT INTO HOME VALUES(3,'lemans','128.69.4.5',1900.0E0,2)
INSERT INTO HOME VALUES(4,'limoges','128.69.65.5',2100.0E0,3)
INSERT INTO HOME VALUES(5,'lyon','136.69.4.5',3900.0E0,3)
INSERT INTO HOME VALUES(6,'brest','128.69.4.58',1400.0E0,4)
INSERT INTO HOME VALUES(7,'paris','128.69.88.77',4900.0E0,4)
INSERT INTO ELECTRONICDEVICE VALUES(1,'250W','25-10-2010','clim',1)
INSERT INTO ELECTRONICDEVICE VALUES(2,'2500W','26-03-2010','t\u00e9l\u00e9',1)
INSERT INTO ELECTRONICDEVICE VALUES(3,'2400W','13-08-2010','chauffage',3)
INSERT INTO ELECTRONICDEVICE VALUES(4,'1600W','11-06-2008','lingerie',3)
INSERT INTO PERSON_ELECTRONICDEVICE VALUES(1,2)
INSERT INTO PERSON_HOME VALUES(1,1)
INSERT INTO PERSON_HOME VALUES(2,2)
INSERT INTO PERSON_HOME VALUES(2,3)
INSERT INTO PERSON_ELECTRONICDEVICE VALUES(3,4)
INSERT INTO PERSON_HOME VALUES(3,4)
INSERT INTO PERSON_HOME VALUES(3,5)
INSERT INTO PERSON_HOME VALUES(4,6)
INSERT INTO PERSON_HOME VALUES(4,7)
COMMIT
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
